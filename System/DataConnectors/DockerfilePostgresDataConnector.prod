FROM python:3.8

WORKDIR /app

COPY ./PostgresDataConnector .
COPY ./decorators.py ./interfaces.py ./rolePermissions.py ./

COPY ./PostgresDataConnector/requirements.txt requirements.txt
RUN pip install -r requirements.txt

RUN pip install gunicorn

EXPOSE 5000

CMD python /app/initPostgres.py; exec gunicorn --bind 0.0.0.0:5000 app:app